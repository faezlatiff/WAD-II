<!DOCTYPE html>
<html>

<head>
    <title>
        Axios : GET
    </title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>

<body>
    <div>
        <p id="axios">Let Axios get an advice for you!</p>
        <button type="button" onclick="getAdvice()">Click Me!</button>
    </div>

    <script>
        function getAdvice() {
            /* Note: if browser is in 'incognito' mode or if it is run with localhost, the api might return Access error. 

            In this case, use browser in 'normal' mode and run this page using Live Preview
            */
            axios.get('https://api.adviceslip.com/advice')
            .then( response =>  {
                console.log(response.data)
                const advice = response.data.slip.advice
                document.getElementById("axios").innerText = advice;
            } )
            .catch(error => {
                console.log(error.message)
                document.getElementById("axios").innerText = error.message;
            });   
        }
        // this is equivalent to Arrow function above
        /* function(resp) {
            console.log(resp.data)
            const advice = resp.data.slip.advice
            document.getElementById("axios").innerText = advice;
        } */
    </script>
</body>

</html>